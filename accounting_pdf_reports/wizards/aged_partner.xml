<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="account_aged_balance_view" model="ir.ui.view">
        <field name="name">Aged Partner Balance</field>
        <field name="model">account.aged.trial.balance</field>
        <field name="arch" type="xml">
            <form string="Report Options">
                <group col="4">
                    <field name="partner_ids" widget="many2many_tags" options="{'no_create': True}"/>
                    <field name="date_from"/>
                    <field name="period_length"/>
                    <newline/>
                    <field name="result_selection" widget="radio"/>
                    <field name="target_move" widget="radio"/>
                </group>
                <field name="journal_ids" required="0" invisible="1"/>
                <footer>
                    <button name="check_report" string="Print in PDF" type="object" default_focus="1" class="oe_highlight"/>
                    <button name="generate_xlsx_aged_partner_balance" string='Print in Excel' type="object" class="oe_highlight"/>
                    <button string="Cancel" class="btn btn-default" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

  <record id="account_aged_balance_view_single" model="ir.ui.view">
        <field name="name">Aged Partner Balance</field>
        <field name="model">account.aged.trial.balance</field>
        <field name="arch" type="xml">
            <form string="Report Options">
                <group col="4">
                    <field name="date_from"/>
                    <field name="period_length"/>
                    <newline/>
                    <field name="result_selection" widget="radio"/>
                    <field name="target_move" widget="radio"/>
                </group>
                <field name="journal_ids" required="0" invisible="1"/>
                <field name="partner_ids" widget="many2many_tags" invisible="1" options="{'no_create': True}"/>

                <footer>
                    <button name="check_report" string="Print" type="object" default_focus="1" class="oe_highlight"/>
                    <button string="Cancel" class="btn btn-default" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="action_account_aged_balance_view" model="ir.actions.act_window">
        <field name="name">Aged Partner Balance</field>
        <field name="res_model">account.aged.trial.balance</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="account_aged_balance_view"/>
        <field name="context">{}</field>
        <field name="target">new</field>
    </record>

    <menuitem id="menu_aged_trial_balance"
        name="Aged Partner Balance"
        sequence="7"
        action="action_account_aged_balance_view"
        parent="accounting_pdf_reports.menu_finance_legal_statement"/>

    <act_window name="Aged Partner Balance"
                res_model="account.aged.trial.balance"
                src_model="res.partner"
                id="aged_partner_applicant"
                view_type="form"
                view_id="account_aged_balance_view_single"
                view_mode="form"
                context="{'default_partner_ids': [(6, 0, [active_id])]}"
                target="new"/>
    
    <record id="aged_partner_balance_report_download_wizard" model="ir.ui.view">
        <field name="name">Aged Partner Balance Report Download</field>
        <field name="model">aged.partner.report.store</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
          <form>
            <group>
              <field name="name" invisible="1"/>
              <field name="report" filename="name"/>
            </group>
            <footer>
              <button special="cancel" string="Cancel"/>
            </footer>
          </form>
        </field>
    </record>

</odoo>
